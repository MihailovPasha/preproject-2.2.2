<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Troubles with the head</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        th:hover {
            background-color: #45a049;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
        .control-group {
            margin-bottom: 10px;
        }
        label {
            font-weight: bold;
            margin-right: 10px;
        }
        input, select {
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        button {
            padding: 8px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .current-params {
            background-color: #d4edda;
            padding: 10px;
            border-radius: 3px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>üöó –ê–≤—Ç–æ–ø–∞—Ä–∫ JAVA-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ üèé</h1>

    <div class="controls">
        <form action="/cars" method="get">
            <div class="control-group">
                <label for="count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω:</label>
                <input type="number" id="count" name="count" min="1"
                       th:value="${count != null ? count : ''}"
                       placeholder="–í—Å–µ (max 10)">
            </div>

            <div class="control-group">
                <label for="sortBy">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ:</label>
                <select id="sortBy" name="sortBy">
                    <option value="">-- –ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ --</option>
                    <option value="id" th:selected="${sortBy == 'id'}">ID</option>
                    <option value="model" th:selected="${sortBy == 'model'}">–ú–æ–¥–µ–ª—å</option>
                    <option value="price" th:selected="${sortBy == 'price'}">–¶–µ–Ω–∞</option>
                    <option value="year" th:selected="${sortBy == 'year'}">–ì–æ–¥</option>
                </select>
            </div>

            <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button type="button" onclick="location.href='/cars'">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </form>
    </div>

    <div class="current-params" th:if="${count != null or sortBy != null}">
        <strong>–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</strong>
        <span th:if="${count != null}">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: <strong th:text="${count}"></strong></span>
        <span th:if="${sortBy != null}"> | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ: <strong th:text="${sortBy}"></strong></span>
    </div>

    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>–ú–æ–¥–µ–ª—å</th>
            <th>–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</th>
            <th>–¶–µ–Ω–∞, ‚ÇΩ</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="car : ${cars}">
            <td th:text="${car.id}"></td>
            <td th:text="${car.model}"></td>
            <td th:text="${car.year}"></td>
            <td th:text="${car.price}"></td>
        </tr>
        <tr th:if="${#lists.isEmpty(cars)}">
            <td colspan="4" style="text-align: center;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</td>
        </tr>
        </tbody>
    </table>

    <div style="text-align: center;">
        <p>–í—Å–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ: <strong th:text="${#lists.size(cars)}"></strong> –º–∞—à–∏–Ω</p>
        <p><small>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω: 10</small></p>
    </div>
</div>
</body>
</html>